import{w as m}from"./components-DPfHZ1Ve.js";var he=e=>e.type==="checkbox",oe=e=>e instanceof Date,z=e=>e==null;const ft=e=>typeof e=="object";var p=e=>!z(e)&&!Array.isArray(e)&&ft(e)&&!oe(e),dt=e=>p(e)&&e.target?he(e.target)?e.target.checked:e.target.value:e,Nt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,yt=(e,r)=>e.has(Nt(r)),It=e=>{const r=e.constructor&&e.constructor.prototype;return p(r)&&r.hasOwnProperty("isPrototypeOf")},Re=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function L(e){let r;const t=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(!(Re&&(e instanceof Blob||s))&&(t||p(e)))if(r=t?[]:Object.create(Object.getPrototypeOf(e)),!t&&!It(e))r=e;else for(const u in e)e.hasOwnProperty(u)&&(r[u]=L(e[u]));else return e;return r}var Fe=e=>/^\w*$/.test(e),R=e=>e===void 0,Te=e=>Array.isArray(e)?e.filter(Boolean):[],Ue=e=>Te(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,r,t)=>{if(!r||!p(e))return t;const s=(Fe(r)?[r]:Ue(r)).reduce((u,n)=>z(u)?u:u[n],e);return R(s)||s===e?R(e[r])?t:e[r]:s},q=e=>typeof e=="boolean",S=(e,r,t)=>{let s=-1;const u=Fe(r)?[r]:Ue(r),n=u.length,a=n-1;for(;++s<n;){const c=u[s];let b=t;if(s!==a){const _=e[c];b=p(_)||Array.isArray(_)?_:isNaN(+u[s+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=b,e=e[c]}};const _e={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},K={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},re={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ht=m.createContext(null);ht.displayName="HookFormContext";const pe=()=>m.useContext(ht);var gt=(e,r,t,s=!0)=>{const u={defaultValues:r._defaultValues};for(const n in e)Object.defineProperty(u,n,{get:()=>{const a=n;return r._proxyFormState[a]!==K.all&&(r._proxyFormState[a]=!s||K.all),t&&(t[a]=!0),e[a]}});return u};const Le=typeof window<"u"?m.useLayoutEffect:m.useEffect;function Bt(e){const r=pe(),{control:t=r.control,disabled:s,name:u,exact:n}=e||{},[a,c]=m.useState(t._formState),b=m.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Le(()=>t._subscribe({name:u,formState:b.current,exact:n,callback:_=>{!s&&c({...t._formState,..._})}}),[u,s,n]),m.useEffect(()=>{b.current.isValid&&t._setValid(!0)},[t]),m.useMemo(()=>gt(a,t,b.current,!1),[a,t])}var $=e=>typeof e=="string",De=(e,r,t,s,u)=>$(e)?(s&&r.watch.add(e),y(t,e,u)):Array.isArray(e)?e.map(n=>(s&&r.watch.add(n),y(t,n))):(s&&(r.watchAll=!0),t),Oe=e=>z(e)||!ft(e);function G(e,r,t=new WeakSet){if(Oe(e)||Oe(r))return e===r;if(oe(e)&&oe(r))return e.getTime()===r.getTime();const s=Object.keys(e),u=Object.keys(r);if(s.length!==u.length)return!1;if(t.has(e)||t.has(r))return!0;t.add(e),t.add(r);for(const n of s){const a=e[n];if(!u.includes(n))return!1;if(n!=="ref"){const c=r[n];if(oe(a)&&oe(c)||p(a)&&p(c)||Array.isArray(a)&&Array.isArray(c)?!G(a,c,t):a!==c)return!1}}return!0}function jt(e){const r=pe(),{control:t=r.control,name:s,defaultValue:u,disabled:n,exact:a,compute:c}=e||{},b=m.useRef(u),_=m.useRef(c),v=m.useRef(void 0),w=m.useRef(t),V=m.useRef(s);_.current=c;const[Y,B]=m.useState(()=>{const x=t._getWatch(s,b.current);return _.current?_.current(x):x}),P=m.useCallback(x=>{const E=De(s,t._names,x||t._formValues,!1,b.current);return _.current?_.current(E):E},[t._formValues,t._names,s]),M=m.useCallback(x=>{if(!n){const E=De(s,t._names,x||t._formValues,!1,b.current);if(_.current){const W=_.current(E);G(W,v.current)||(B(W),v.current=W)}else B(E)}},[t._formValues,t._names,n,s]);Le(()=>((w.current!==t||!G(V.current,s))&&(w.current=t,V.current=s,M()),t._subscribe({name:s,formState:{values:!0},exact:a,callback:x=>{M(x.values)}})),[t,a,s,M]),m.useEffect(()=>t._removeUnmounted());const Q=w.current!==t,F=V.current,O=m.useMemo(()=>{if(n)return null;const x=!Q&&!G(F,s);return Q||x?P():null},[n,Q,s,F,P]);return O!==null?O:Y}function zt(e){const r=pe(),{name:t,disabled:s,control:u=r.control,shouldUnregister:n,defaultValue:a}=e,c=yt(u._names.array,t),b=m.useMemo(()=>y(u._formValues,t,y(u._defaultValues,t,a)),[u,t,a]),_=jt({control:u,name:t,defaultValue:b,exact:!0}),v=Bt({control:u,name:t,exact:!0}),w=m.useRef(e),V=m.useRef(void 0),Y=m.useRef(u.register(t,{...e.rules,value:_,...q(e.disabled)?{disabled:e.disabled}:{}}));w.current=e;const B=m.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!y(v.errors,t)},isDirty:{enumerable:!0,get:()=>!!y(v.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!y(v.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!y(v.validatingFields,t)},error:{enumerable:!0,get:()=>y(v.errors,t)}}),[v,t]),P=m.useCallback(O=>Y.current.onChange({target:{value:dt(O),name:t},type:_e.CHANGE}),[t]),M=m.useCallback(()=>Y.current.onBlur({target:{value:y(u._formValues,t),name:t},type:_e.BLUR}),[t,u._formValues]),Q=m.useCallback(O=>{const x=y(u._fields,t);x&&O&&(x._f.ref={focus:()=>O.focus&&O.focus(),select:()=>O.select&&O.select(),setCustomValidity:E=>O.setCustomValidity(E),reportValidity:()=>O.reportValidity()})},[u._fields,t]),F=m.useMemo(()=>({name:t,value:_,...q(s)||v.disabled?{disabled:v.disabled||s}:{},onChange:P,onBlur:M,ref:Q}),[t,s,v.disabled,P,M,Q,_]);return m.useEffect(()=>{const O=u._options.shouldUnregister||n,x=V.current;x&&x!==t&&!c&&u.unregister(x),u.register(t,{...w.current.rules,...q(w.current.disabled)?{disabled:w.current.disabled}:{}});const E=(W,X)=>{const ie=y(u._fields,W);ie&&ie._f&&(ie._f.mount=X)};if(E(t,!0),O){const W=L(y(u._options.defaultValues,t,w.current.defaultValue));S(u._defaultValues,t,W),R(y(u._formValues,t))&&S(u._formValues,t,W)}return!c&&u.register(t),V.current=t,()=>{(c?O&&!u._state.action:O)?u.unregister(t):E(t,!1)}},[t,u,c,n]),m.useEffect(()=>{u._setDisabledField({disabled:s,name:t})},[s,t,u]),m.useMemo(()=>({field:F,formState:v,fieldState:B}),[F,v,B])}const vr=e=>e.render(zt(e));var Me=(e,r,t,s,u)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[s]:u||!0}}:{},de=e=>Array.isArray(e)?e:[e],Je=()=>{let e=[];return{get observers(){return e},next:u=>{for(const n of e)n.next&&n.next(u)},subscribe:u=>(e.push(u),{unsubscribe:()=>{e=e.filter(n=>n!==u)}}),unsubscribe:()=>{e=[]}}};function vt(e,r){const t={};for(const s in e)if(e.hasOwnProperty(s)){const u=e[s],n=r[s];if(u&&p(u)&&n){const a=vt(u,n);p(a)&&(t[s]=a)}else e[s]&&(t[s]=n)}return t}var I=e=>p(e)&&!Object.keys(e).length,Ne=e=>e.type==="file",J=e=>typeof e=="function",Ve=e=>{if(!Re)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},bt=e=>e.type==="select-multiple",Ie=e=>e.type==="radio",Wt=e=>Ie(e)||he(e),xe=e=>Ve(e)&&e.isConnected;function qt(e,r){const t=r.slice(0,-1).length;let s=0;for(;s<t;)e=R(e)?s++:e[r[s++]];return e}function $t(e){for(const r in e)if(e.hasOwnProperty(r)&&!R(e[r]))return!1;return!0}function U(e,r){const t=Array.isArray(r)?r:Fe(r)?[r]:Ue(r),s=t.length===1?e:qt(e,t),u=t.length-1,n=t[u];return s&&delete s[n],u!==0&&(p(s)&&I(s)||Array.isArray(s)&&$t(s))&&U(e,t.slice(0,-1)),e}var Ht=e=>{for(const r in e)if(J(e[r]))return!0;return!1};function _t(e){return Array.isArray(e)||p(e)&&!Ht(e)}function Ce(e,r={}){for(const t in e)_t(e[t])?(r[t]=Array.isArray(e[t])?[]:{},Ce(e[t],r[t])):R(e[t])||(r[t]=!0);return r}function le(e,r,t){t||(t=Ce(r));for(const s in e)_t(e[s])?R(r)||Oe(t[s])?t[s]=Ce(e[s],Array.isArray(e[s])?[]:{}):le(e[s],z(r)?{}:r[s],t[s]):t[s]=!G(e[s],r[s]);return t}const Ye={value:!1,isValid:!1},Qe={value:!0,isValid:!0};var Vt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!R(e[0].attributes.value)?R(e[0].value)||e[0].value===""?Qe:{value:e[0].value,isValid:!0}:Qe:Ye}return Ye},mt=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:s})=>R(e)?e:r?e===""?NaN:e&&+e:t&&$(e)?new Date(e):s?s(e):e;const Xe={isValid:!1,value:null};var Ft=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,Xe):Xe;function et(e){const r=e.ref;return Ne(r)?r.files:Ie(r)?Ft(e.refs).value:bt(r)?[...r.selectedOptions].map(({value:t})=>t):he(r)?Vt(e.refs).value:mt(R(r.value)?e.ref.value:r.value,e)}var Zt=(e,r,t,s)=>{const u={};for(const n of e){const a=y(r,n);a&&S(u,n,a._f)}return{criteriaMode:t,names:[...e],fields:u,shouldUseNativeValidation:s}},me=e=>e instanceof RegExp,fe=e=>R(e)?e:me(e)?e.source:p(e)?me(e.value)?e.value.source:e.value:e,tt=e=>({isOnSubmit:!e||e===K.onSubmit,isOnBlur:e===K.onBlur,isOnChange:e===K.onChange,isOnAll:e===K.all,isOnTouch:e===K.onTouched});const rt="AsyncFunction";var Kt=e=>!!e&&!!e.validate&&!!(J(e.validate)&&e.validate.constructor.name===rt||p(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===rt)),Gt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),st=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const ye=(e,r,t,s)=>{for(const u of t||Object.keys(e)){const n=y(e,u);if(n){const{_f:a,...c}=n;if(a){if(a.refs&&a.refs[0]&&r(a.refs[0],u)&&!s)return!0;if(a.ref&&r(a.ref,a.name)&&!s)return!0;if(ye(c,r))break}else if(p(c)&&ye(c,r))break}}};function it(e,r,t){const s=y(e,t);if(s||Fe(t))return{error:s,name:t};const u=t.split(".");for(;u.length;){const n=u.join("."),a=y(r,n),c=y(e,n);if(a&&!Array.isArray(a)&&t!==n)return{name:t};if(c&&c.type)return{name:n,error:c};if(c&&c.root&&c.root.type)return{name:`${n}.root`,error:c.root};u.pop()}return{name:t}}var Jt=(e,r,t,s)=>{t(e);const{name:u,...n}=e;return I(n)||Object.keys(n).length>=Object.keys(r).length||Object.keys(n).find(a=>r[a]===(!s||K.all))},Yt=(e,r,t)=>!e||!r||e===r||de(e).some(s=>s&&(t?s===r:s.startsWith(r)||r.startsWith(s))),Qt=(e,r,t,s,u)=>u.isOnAll?!1:!t&&u.isOnTouch?!(r||e):(t?s.isOnBlur:u.isOnBlur)?!e:(t?s.isOnChange:u.isOnChange)?e:!0,Xt=(e,r)=>!Te(y(e,r)).length&&U(e,r),er=(e,r,t)=>{const s=de(y(e,t));return S(s,"root",r[t]),S(e,t,s),e};function nt(e,r,t="validate"){if($(e)||Array.isArray(e)&&e.every($)||q(e)&&!e)return{type:t,message:$(e)?e:"",ref:r}}var ae=e=>p(e)&&!me(e)?e:{value:e,message:""},ot=async(e,r,t,s,u,n)=>{const{ref:a,refs:c,required:b,maxLength:_,minLength:v,min:w,max:V,pattern:Y,validate:B,name:P,valueAsNumber:M,mount:Q}=e._f,F=y(t,P);if(!Q||r.has(P))return{};const O=c?c[0]:a,x=A=>{u&&O.reportValidity&&(O.setCustomValidity(q(A)?"":A||""),O.reportValidity())},E={},W=Ie(a),X=he(a),ie=W||X,Z=(M||Ne(a))&&R(a.value)&&R(F)||Ve(a)&&a.value===""||F===""||Array.isArray(F)&&!F.length,ne=Me.bind(null,P,s,E),ee=(A,D,T,N=re.maxLength,j=re.minLength)=>{const te=A?D:T;E[P]={type:A?N:j,message:te,ref:a,...ne(A?N:j,te)}};if(n?!Array.isArray(F)||!F.length:b&&(!ie&&(Z||z(F))||q(F)&&!F||X&&!Vt(c).isValid||W&&!Ft(c).isValid)){const{value:A,message:D}=$(b)?{value:!!b,message:b}:ae(b);if(A&&(E[P]={type:re.required,message:D,ref:O,...ne(re.required,D)},!s))return x(D),E}if(!Z&&(!z(w)||!z(V))){let A,D;const T=ae(V),N=ae(w);if(!z(F)&&!isNaN(F)){const j=a.valueAsNumber||F&&+F;z(T.value)||(A=j>T.value),z(N.value)||(D=j<N.value)}else{const j=a.valueAsDate||new Date(F),te=ge=>new Date(new Date().toDateString()+" "+ge),ce=a.type=="time",ue=a.type=="week";$(T.value)&&F&&(A=ce?te(F)>te(T.value):ue?F>T.value:j>new Date(T.value)),$(N.value)&&F&&(D=ce?te(F)<te(N.value):ue?F<N.value:j<new Date(N.value))}if((A||D)&&(ee(!!A,T.message,N.message,re.max,re.min),!s))return x(E[P].message),E}if((_||v)&&!Z&&($(F)||n&&Array.isArray(F))){const A=ae(_),D=ae(v),T=!z(A.value)&&F.length>+A.value,N=!z(D.value)&&F.length<+D.value;if((T||N)&&(ee(T,A.message,D.message),!s))return x(E[P].message),E}if(Y&&!Z&&$(F)){const{value:A,message:D}=ae(Y);if(me(A)&&!F.match(A)&&(E[P]={type:re.pattern,message:D,ref:a,...ne(re.pattern,D)},!s))return x(D),E}if(B){if(J(B)){const A=await B(F,t),D=nt(A,O);if(D&&(E[P]={...D,...ne(re.validate,D.message)},!s))return x(D.message),E}else if(p(B)){let A={};for(const D in B){if(!I(A)&&!s)break;const T=nt(await B[D](F,t),O,D);T&&(A={...T,...ne(D,T.message)},x(T.message),s&&(E[P]=A))}if(!I(A)&&(E[P]={ref:O,...A},!s))return E}}return x(!0),E};const tr={mode:K.onSubmit,reValidateMode:K.onChange,shouldFocusError:!0};function rr(e={}){let r={...tr,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:J(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},s={},u=p(r.defaultValues)||p(r.values)?L(r.defaultValues||r.values)||{}:{},n=r.shouldUnregister?{}:L(u),a={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},b,_=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let w={...v};const V={array:Je(),state:Je()},Y=r.criteriaMode===K.all,B=i=>o=>{clearTimeout(_),_=setTimeout(i,o)},P=async i=>{if(!r.disabled&&(v.isValid||w.isValid||i)){const o=r.resolver?I((await X()).errors):await Z(s,!0);o!==t.isValid&&V.state.next({isValid:o})}},M=(i,o)=>{!r.disabled&&(v.isValidating||v.validatingFields||w.isValidating||w.validatingFields)&&((i||Array.from(c.mount)).forEach(l=>{l&&(o?S(t.validatingFields,l,o):U(t.validatingFields,l))}),V.state.next({validatingFields:t.validatingFields,isValidating:!I(t.validatingFields)}))},Q=(i,o=[],l,h,d=!0,f=!0)=>{if(h&&l&&!r.disabled){if(a.action=!0,f&&Array.isArray(y(s,i))){const g=l(y(s,i),h.argA,h.argB);d&&S(s,i,g)}if(f&&Array.isArray(y(t.errors,i))){const g=l(y(t.errors,i),h.argA,h.argB);d&&S(t.errors,i,g),Xt(t.errors,i)}if((v.touchedFields||w.touchedFields)&&f&&Array.isArray(y(t.touchedFields,i))){const g=l(y(t.touchedFields,i),h.argA,h.argB);d&&S(t.touchedFields,i,g)}(v.dirtyFields||w.dirtyFields)&&(t.dirtyFields=le(u,n)),V.state.next({name:i,isDirty:ee(i,o),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else S(n,i,o)},F=(i,o)=>{S(t.errors,i,o),V.state.next({errors:t.errors})},O=i=>{t.errors=i,V.state.next({errors:t.errors,isValid:!1})},x=(i,o,l,h)=>{const d=y(s,i);if(d){const f=y(n,i,R(l)?y(u,i):l);R(f)||h&&h.defaultChecked||o?S(n,i,o?f:et(d._f)):T(i,f),a.mount&&P()}},E=(i,o,l,h,d)=>{let f=!1,g=!1;const k={name:i};if(!r.disabled){if(!l||h){(v.isDirty||w.isDirty)&&(g=t.isDirty,t.isDirty=k.isDirty=ee(),f=g!==k.isDirty);const C=G(y(u,i),o);g=!!y(t.dirtyFields,i),C?U(t.dirtyFields,i):S(t.dirtyFields,i,!0),k.dirtyFields=t.dirtyFields,f=f||(v.dirtyFields||w.dirtyFields)&&g!==!C}if(l){const C=y(t.touchedFields,i);C||(S(t.touchedFields,i,l),k.touchedFields=t.touchedFields,f=f||(v.touchedFields||w.touchedFields)&&C!==l)}f&&d&&V.state.next(k)}return f?k:{}},W=(i,o,l,h)=>{const d=y(t.errors,i),f=(v.isValid||w.isValid)&&q(o)&&t.isValid!==o;if(r.delayError&&l?(b=B(()=>F(i,l)),b(r.delayError)):(clearTimeout(_),b=null,l?S(t.errors,i,l):U(t.errors,i)),(l?!G(d,l):d)||!I(h)||f){const g={...h,...f&&q(o)?{isValid:o}:{},errors:t.errors,name:i};t={...t,...g},V.state.next(g)}},X=async i=>{M(i,!0);const o=await r.resolver(n,r.context,Zt(i||c.mount,s,r.criteriaMode,r.shouldUseNativeValidation));return M(i),o},ie=async i=>{const{errors:o}=await X(i);if(i)for(const l of i){const h=y(o,l);h?S(t.errors,l,h):U(t.errors,l)}else t.errors=o;return o},Z=async(i,o,l={valid:!0})=>{for(const h in i){const d=i[h];if(d){const{_f:f,...g}=d;if(f){const k=c.array.has(f.name),C=d._f&&Kt(d._f);C&&v.validatingFields&&M([f.name],!0);const H=await ot(d,c.disabled,n,Y,r.shouldUseNativeValidation&&!o,k);if(C&&v.validatingFields&&M([f.name]),H[f.name]&&(l.valid=!1,o))break;!o&&(y(H,f.name)?k?er(t.errors,H,f.name):S(t.errors,f.name,H[f.name]):U(t.errors,f.name))}!I(g)&&await Z(g,o,l)}}return l.valid},ne=()=>{for(const i of c.unMount){const o=y(s,i);o&&(o._f.refs?o._f.refs.every(l=>!xe(l)):!xe(o._f.ref))&&we(i)}c.unMount=new Set},ee=(i,o)=>!r.disabled&&(i&&o&&S(n,i,o),!G(ge(),u)),A=(i,o,l)=>De(i,c,{...a.mount?n:R(o)?u:$(i)?{[i]:o}:o},l,o),D=i=>Te(y(a.mount?n:u,i,r.shouldUnregister?y(u,i,[]):[])),T=(i,o,l={})=>{const h=y(s,i);let d=o;if(h){const f=h._f;f&&(!f.disabled&&S(n,i,mt(o,f)),d=Ve(f.ref)&&z(o)?"":o,bt(f.ref)?[...f.ref.options].forEach(g=>g.selected=d.includes(g.value)):f.refs?he(f.ref)?f.refs.forEach(g=>{(!g.defaultChecked||!g.disabled)&&(Array.isArray(d)?g.checked=!!d.find(k=>k===g.value):g.checked=d===g.value||!!d)}):f.refs.forEach(g=>g.checked=g.value===d):Ne(f.ref)?f.ref.value="":(f.ref.value=d,f.ref.type||V.state.next({name:i,values:L(n)})))}(l.shouldDirty||l.shouldTouch)&&E(i,d,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&ue(i)},N=(i,o,l)=>{for(const h in o){if(!o.hasOwnProperty(h))return;const d=o[h],f=i+"."+h,g=y(s,f);(c.array.has(i)||p(d)||g&&!g._f)&&!oe(d)?N(f,d,l):T(f,d,l)}},j=(i,o,l={})=>{const h=y(s,i),d=c.array.has(i),f=L(o);S(n,i,f),d?(V.array.next({name:i,values:L(n)}),(v.isDirty||v.dirtyFields||w.isDirty||w.dirtyFields)&&l.shouldDirty&&V.state.next({name:i,dirtyFields:le(u,n),isDirty:ee(i,f)})):h&&!h._f&&!z(f)?N(i,f,l):T(i,f,l),st(i,c)&&V.state.next({...t,name:i}),V.state.next({name:a.mount?i:void 0,values:L(n)})},te=async i=>{a.mount=!0;const o=i.target;let l=o.name,h=!0;const d=y(s,l),f=C=>{h=Number.isNaN(C)||oe(C)&&isNaN(C.getTime())||G(C,y(n,l,C))},g=tt(r.mode),k=tt(r.reValidateMode);if(d){let C,H;const ve=o.type?et(d._f):dt(i),se=i.type===_e.BLUR||i.type===_e.FOCUS_OUT,pt=!Gt(d._f)&&!r.resolver&&!y(t.errors,l)&&!d._f.deps||Qt(se,y(t.touchedFields,l),t.isSubmitted,k,g),ke=st(l,c,se);S(n,l,ve),se?(!o||!o.readOnly)&&(d._f.onBlur&&d._f.onBlur(i),b&&b(0)):d._f.onChange&&d._f.onChange(i);const Se=E(l,ve,se),Lt=!I(Se)||ke;if(!se&&V.state.next({name:l,type:i.type,values:L(n)}),pt)return(v.isValid||w.isValid)&&(r.mode==="onBlur"?se&&P():se||P()),Lt&&V.state.next({name:l,...ke?{}:Se});if(!se&&ke&&V.state.next({...t}),r.resolver){const{errors:Ke}=await X([l]);if(f(ve),h){const Mt=it(t.errors,s,l),Ge=it(Ke,s,Mt.name||l);C=Ge.error,l=Ge.name,H=I(Ke)}}else M([l],!0),C=(await ot(d,c.disabled,n,Y,r.shouldUseNativeValidation))[l],M([l]),f(ve),h&&(C?H=!1:(v.isValid||w.isValid)&&(H=await Z(s,!0)));h&&(d._f.deps&&(!Array.isArray(d._f.deps)||d._f.deps.length>0)&&ue(d._f.deps),W(l,H,C,Se))}},ce=(i,o)=>{if(y(t.errors,o)&&i.focus)return i.focus(),1},ue=async(i,o={})=>{let l,h;const d=de(i);if(r.resolver){const f=await ie(R(i)?i:d);l=I(f),h=i?!d.some(g=>y(f,g)):l}else i?(h=(await Promise.all(d.map(async f=>{const g=y(s,f);return await Z(g&&g._f?{[f]:g}:g)}))).every(Boolean),!(!h&&!t.isValid)&&P()):h=l=await Z(s);return V.state.next({...!$(i)||(v.isValid||w.isValid)&&l!==t.isValid?{}:{name:i},...r.resolver||!i?{isValid:l}:{},errors:t.errors}),o.shouldFocus&&!h&&ye(s,ce,i?d:c.mount),h},ge=(i,o)=>{let l={...a.mount?n:u};return o&&(l=vt(o.dirtyFields?t.dirtyFields:t.touchedFields,l)),R(i)?l:$(i)?y(l,i):i.map(h=>y(l,h))},Be=(i,o)=>({invalid:!!y((o||t).errors,i),isDirty:!!y((o||t).dirtyFields,i),error:y((o||t).errors,i),isValidating:!!y(t.validatingFields,i),isTouched:!!y((o||t).touchedFields,i)}),Dt=i=>{i&&de(i).forEach(o=>U(t.errors,o)),V.state.next({errors:i?t.errors:{}})},je=(i,o,l)=>{const h=(y(s,i,{_f:{}})._f||{}).ref,d=y(t.errors,i)||{},{ref:f,message:g,type:k,...C}=d;S(t.errors,i,{...C,...o,ref:h}),V.state.next({name:i,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&h&&h.focus&&h.focus()},Ot=(i,o)=>J(i)?V.state.subscribe({next:l=>"values"in l&&i(A(void 0,o),l)}):A(i,o,!0),ze=i=>V.state.subscribe({next:o=>{Yt(i.name,o.name,i.exact)&&Jt(o,i.formState||v,Ut,i.reRenderRoot)&&i.callback({values:{...n},...t,...o,defaultValues:u})}}).unsubscribe,Ct=i=>(a.mount=!0,w={...w,...i.formState},ze({...i,formState:w})),we=(i,o={})=>{for(const l of i?de(i):c.mount)c.mount.delete(l),c.array.delete(l),o.keepValue||(U(s,l),U(n,l)),!o.keepError&&U(t.errors,l),!o.keepDirty&&U(t.dirtyFields,l),!o.keepTouched&&U(t.touchedFields,l),!o.keepIsValidating&&U(t.validatingFields,l),!r.shouldUnregister&&!o.keepDefaultValue&&U(u,l);V.state.next({values:L(n)}),V.state.next({...t,...o.keepDirty?{isDirty:ee()}:{}}),!o.keepIsValid&&P()},We=({disabled:i,name:o})=>{(q(i)&&a.mount||i||c.disabled.has(o))&&(i?c.disabled.add(o):c.disabled.delete(o))},Ae=(i,o={})=>{let l=y(s,i);const h=q(o.disabled)||q(r.disabled);return S(s,i,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:i}},name:i,mount:!0,...o}}),c.mount.add(i),l?We({disabled:q(o.disabled)?o.disabled:r.disabled,name:i}):x(i,!0,o.value),{...h?{disabled:o.disabled||r.disabled}:{},...r.progressive?{required:!!o.required,min:fe(o.min),max:fe(o.max),minLength:fe(o.minLength),maxLength:fe(o.maxLength),pattern:fe(o.pattern)}:{},name:i,onChange:te,onBlur:te,ref:d=>{if(d){Ae(i,o),l=y(s,i);const f=R(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,g=Wt(f),k=l._f.refs||[];if(g?k.find(C=>C===f):f===l._f.ref)return;S(s,i,{_f:{...l._f,...g?{refs:[...k.filter(xe),f,...Array.isArray(y(u,i))?[{}]:[]],ref:{type:f.type,name:i}}:{ref:f}}}),x(i,!1,void 0,f)}else l=y(s,i,{}),l._f&&(l._f.mount=!1),(r.shouldUnregister||o.shouldUnregister)&&!(yt(c.array,i)&&a.action)&&c.unMount.add(i)}}},Ee=()=>r.shouldFocusError&&ye(s,ce,c.mount),Pt=i=>{q(i)&&(V.state.next({disabled:i}),ye(s,(o,l)=>{const h=y(s,l);h&&(o.disabled=h._f.disabled||i,Array.isArray(h._f.refs)&&h._f.refs.forEach(d=>{d.disabled=h._f.disabled||i}))},0,!1))},qe=(i,o)=>async l=>{let h;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let d=L(n);if(V.state.next({isSubmitting:!0}),r.resolver){const{errors:f,values:g}=await X();t.errors=f,d=L(g)}else await Z(s);if(c.disabled.size)for(const f of c.disabled)U(d,f);if(U(t.errors,"root"),I(t.errors)){V.state.next({errors:{}});try{await i(d,l)}catch(f){h=f}}else o&&await o({...t.errors},l),Ee(),setTimeout(Ee);if(V.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:I(t.errors)&&!h,submitCount:t.submitCount+1,errors:t.errors}),h)throw h},Rt=(i,o={})=>{y(s,i)&&(R(o.defaultValue)?j(i,L(y(u,i))):(j(i,o.defaultValue),S(u,i,L(o.defaultValue))),o.keepTouched||U(t.touchedFields,i),o.keepDirty||(U(t.dirtyFields,i),t.isDirty=o.defaultValue?ee(i,L(y(u,i))):ee()),o.keepError||(U(t.errors,i),v.isValid&&P()),V.state.next({...t}))},$e=(i,o={})=>{const l=i?L(i):u,h=L(l),d=I(i),f=d?u:h;if(o.keepDefaultValues||(u=l),!o.keepValues){if(o.keepDirtyValues){const g=new Set([...c.mount,...Object.keys(le(u,n))]);for(const k of Array.from(g))y(t.dirtyFields,k)?S(f,k,y(n,k)):j(k,y(f,k))}else{if(Re&&R(i))for(const g of c.mount){const k=y(s,g);if(k&&k._f){const C=Array.isArray(k._f.refs)?k._f.refs[0]:k._f.ref;if(Ve(C)){const H=C.closest("form");if(H){H.reset();break}}}}if(o.keepFieldsRef)for(const g of c.mount)j(g,y(f,g));else s={}}n=r.shouldUnregister?o.keepDefaultValues?L(u):{}:L(f),V.array.next({values:{...f}}),V.state.next({values:{...f}})}c={mount:o.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!v.isValid||!!o.keepIsValid||!!o.keepDirtyValues||!r.shouldUnregister&&!I(f),a.watch=!!r.shouldUnregister,V.state.next({submitCount:o.keepSubmitCount?t.submitCount:0,isDirty:d?!1:o.keepDirty?t.isDirty:!!(o.keepDefaultValues&&!G(i,u)),isSubmitted:o.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:d?{}:o.keepDirtyValues?o.keepDefaultValues&&n?le(u,n):t.dirtyFields:o.keepDefaultValues&&i?le(u,i):o.keepDirty?t.dirtyFields:{},touchedFields:o.keepTouched?t.touchedFields:{},errors:o.keepErrors?t.errors:{},isSubmitSuccessful:o.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:u})},He=(i,o)=>$e(J(i)?i(n):i,o),Tt=(i,o={})=>{const l=y(s,i),h=l&&l._f;if(h){const d=h.refs?h.refs[0]:h.ref;d.focus&&(d.focus(),o.shouldSelect&&J(d.select)&&d.select())}},Ut=i=>{t={...t,...i}},Ze={control:{register:Ae,unregister:we,getFieldState:Be,handleSubmit:qe,setError:je,_subscribe:ze,_runSchema:X,_focusError:Ee,_getWatch:A,_getDirty:ee,_setValid:P,_setFieldArray:Q,_setDisabledField:We,_setErrors:O,_getFieldArray:D,_reset:$e,_resetDefaultValues:()=>J(r.defaultValues)&&r.defaultValues().then(i=>{He(i,r.resetOptions),V.state.next({isLoading:!1})}),_removeUnmounted:ne,_disableForm:Pt,_subjects:V,_proxyFormState:v,get _fields(){return s},get _formValues(){return n},get _state(){return a},set _state(i){a=i},get _defaultValues(){return u},get _names(){return c},set _names(i){c=i},get _formState(){return t},get _options(){return r},set _options(i){r={...r,...i}}},subscribe:Ct,trigger:ue,register:Ae,handleSubmit:qe,watch:Ot,setValue:j,getValues:ge,reset:He,resetField:Rt,clearErrors:Dt,unregister:we,setError:je,setFocus:Tt,getFieldState:Be};return{...Ze,formControl:Ze}}function br(e={}){const r=m.useRef(void 0),t=m.useRef(void 0),[s,u]=m.useState({isDirty:!1,isValidating:!1,isLoading:J(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:J(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current={...e.formControl,formState:s},e.defaultValues&&!J(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...c}=rr(e);r.current={...c,formState:s}}const n=r.current.control;return n._options=e,Le(()=>{const a=n._subscribe({formState:n._proxyFormState,callback:()=>u({...n._formState}),reRenderRoot:!0});return u(c=>({...c,isReady:!0})),n._formState.isReady=!0,a},[n]),m.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),m.useEffect(()=>{e.mode&&(n._options.mode=e.mode),e.reValidateMode&&(n._options.reValidateMode=e.reValidateMode)},[n,e.mode,e.reValidateMode]),m.useEffect(()=>{e.errors&&(n._setErrors(e.errors),n._focusError())},[n,e.errors]),m.useEffect(()=>{e.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,e.shouldUnregister]),m.useEffect(()=>{if(n._proxyFormState.isDirty){const a=n._getDirty();a!==s.isDirty&&n._subjects.state.next({isDirty:a})}},[n,s.isDirty]),m.useEffect(()=>{e.values&&!G(e.values,t.current)?(n._reset(e.values,{keepFieldsRef:!0,...n._options.resetOptions}),t.current=e.values,u(a=>({...a}))):n._resetDefaultValues()},[n,e.values]),m.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),r.current.formState=gt(s,n),r.current}const ut=(e,r,t)=>{if(e&&"reportValidity"in e){const s=y(t,r);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},Pe=(e,r)=>{for(const t in r.fields){const s=r.fields[t];s&&s.ref&&"reportValidity"in s.ref?ut(s.ref,t,e):s&&s.refs&&s.refs.forEach(u=>ut(u,t,e))}},at=(e,r)=>{r.shouldUseNativeValidation&&Pe(e,r);const t={};for(const s in e){const u=y(r.fields,s),n=Object.assign(e[s]||{},{ref:u&&u.ref});if(sr(r.names||Object.keys(e),s)){const a=Object.assign({},y(t,s));S(a,"root",n),S(t,s,a)}else S(t,s,n)}return t},sr=(e,r)=>{const t=lt(r);return e.some(s=>lt(s).match(`^${t}\\.\\d+`))};function lt(e){return e.replace(/\]|\[/g,"")}function wt(e,r,t){function s(c,b){var _;Object.defineProperty(c,"_zod",{value:c._zod??{},enumerable:!1}),(_=c._zod).traits??(_.traits=new Set),c._zod.traits.add(e),r(c,b);for(const v in a.prototype)v in c||Object.defineProperty(c,v,{value:a.prototype[v].bind(c)});c._zod.constr=a,c._zod.def=b}const u=(t==null?void 0:t.Parent)??Object;class n extends u{}Object.defineProperty(n,"name",{value:e});function a(c){var b;const _=t!=null&&t.Parent?new n:this;s(_,c),(b=_._zod).deferred??(b.deferred=[]);for(const v of _._zod.deferred)v();return _}return Object.defineProperty(a,"init",{value:s}),Object.defineProperty(a,Symbol.hasInstance,{value:c=>{var b,_;return t!=null&&t.Parent&&c instanceof t.Parent?!0:(_=(b=c==null?void 0:c._zod)==null?void 0:b.traits)==null?void 0:_.has(e)}}),Object.defineProperty(a,"name",{value:e}),a}class ir extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const nr={};function At(e){return nr}function or(e,r){return typeof r=="bigint"?r.toString():r}const Et=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function be(e){return typeof e=="string"?e:e==null?void 0:e.message}function kt(e,r,t){var u,n,a,c,b,_;const s={...e,path:e.path??[]};if(!e.message){const v=be((a=(n=(u=e.inst)==null?void 0:u._zod.def)==null?void 0:n.error)==null?void 0:a.call(n,e))??be((c=r==null?void 0:r.error)==null?void 0:c.call(r,e))??be((b=t.customError)==null?void 0:b.call(t,e))??be((_=t.localeError)==null?void 0:_.call(t,e))??"Invalid input";s.message=v}return delete s.inst,delete s.continue,r!=null&&r.reportInput||delete s.input,s}const St=(e,r)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:r,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(r,or,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},ur=wt("$ZodError",St),xt=wt("$ZodError",St,{Parent:Error}),ar=e=>(r,t,s,u)=>{const n=s?Object.assign(s,{async:!1}):{async:!1},a=r._zod.run({value:t,issues:[]},n);if(a instanceof Promise)throw new ir;if(a.issues.length){const c=new((u==null?void 0:u.Err)??e)(a.issues.map(b=>kt(b,n,At())));throw Et(c,u==null?void 0:u.callee),c}return a.value},lr=ar(xt),cr=e=>async(r,t,s,u)=>{const n=s?Object.assign(s,{async:!0}):{async:!0};let a=r._zod.run({value:t,issues:[]},n);if(a instanceof Promise&&(a=await a),a.issues.length){const c=new((u==null?void 0:u.Err)??e)(a.issues.map(b=>kt(b,n,At())));throw Et(c,u==null?void 0:u.callee),c}return a.value},fr=cr(xt);function ct(e,r){try{var t=e()}catch(s){return r(s)}return t&&t.then?t.then(void 0,r):t}function dr(e,r){for(var t={};e.length;){var s=e[0],u=s.code,n=s.message,a=s.path.join(".");if(!t[a])if("unionErrors"in s){var c=s.unionErrors[0].errors[0];t[a]={message:c.message,type:c.code}}else t[a]={message:n,type:u};if("unionErrors"in s&&s.unionErrors.forEach(function(v){return v.errors.forEach(function(w){return e.push(w)})}),r){var b=t[a].types,_=b&&b[s.code];t[a]=Me(a,r,t,u,_?[].concat(_,s.message):s.message)}e.shift()}return t}function yr(e,r){for(var t={};e.length;){var s=e[0],u=s.code,n=s.message,a=s.path.join(".");if(!t[a])if(s.code==="invalid_union"&&s.errors.length>0){var c=s.errors[0][0];t[a]={message:c.message,type:c.code}}else t[a]={message:n,type:u};if(s.code==="invalid_union"&&s.errors.forEach(function(v){return v.forEach(function(w){return e.push(w)})}),r){var b=t[a].types,_=b&&b[s.code];t[a]=Me(a,r,t,u,_?[].concat(_,s.message):s.message)}e.shift()}return t}function _r(e,r,t){if(t===void 0&&(t={}),(function(s){return"_def"in s&&typeof s._def=="object"&&"typeName"in s._def})(e))return function(s,u,n){try{return Promise.resolve(ct(function(){return Promise.resolve(e[t.mode==="sync"?"parse":"parseAsync"](s,r)).then(function(a){return n.shouldUseNativeValidation&&Pe({},n),{errors:{},values:t.raw?Object.assign({},s):a}})},function(a){if((function(c){return Array.isArray(c==null?void 0:c.issues)})(a))return{values:{},errors:at(dr(a.errors,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw a}))}catch(a){return Promise.reject(a)}};if((function(s){return"_zod"in s&&typeof s._zod=="object"})(e))return function(s,u,n){try{return Promise.resolve(ct(function(){return Promise.resolve((t.mode==="sync"?lr:fr)(e,s,r)).then(function(a){return n.shouldUseNativeValidation&&Pe({},n),{errors:{},values:t.raw?Object.assign({},s):a}})},function(a){if((function(c){return c instanceof ur})(a))return{values:{},errors:at(yr(a.issues,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw a}))}catch(a){return Promise.reject(a)}};throw new Error("Invalid input: not a Zod schema")}export{vr as C,_r as a,br as u};
