import{j as e}from"./jsx-runtime-0DLF9kdB.js";import{r as l}from"./components-DPfHZ1Ve.js";import{w as f,B as E,a as z,s as B,t as D}from"./lib-B83UiCcG.js";import{I as $}from"./index-BVQZtB2M.js";const j=l.createContext(null);function O(){return l.useContext(j)}const P=({children:g})=>{const[m,w]=l.useState(!1),[c,N]=l.useState(null),[o,y]=l.useState([]),[n,h]=l.useState(0),[v,k]=l.useState(null);l.useRef(0),l.useRef(0);const[a,C]=l.useState(!1),b=()=>{w(!1)},S=()=>{const r=o[n],i=document.getElementById(r==null?void 0:r.video_guid);n!==0&&(i.src="");let d=n===0?o.length-1:n-1;const s=o[d],x=document.getElementById(s==null?void 0:s.video_guid),p=f(s==null?void 0:s.video_url);x.src=`https://www.youtube.com/embed/${p}`,h(u=>u===0?o.length-1:u-1)},_=()=>{const r=o[n],i=document.getElementById(r==null?void 0:r.video_guid);n!==o.length-1&&(i.src="");let d=n===o.length-1?0:n+1;const s=o[d],x=document.getElementById(s==null?void 0:s.video_guid),p=f(s==null?void 0:s.video_url);x.src=`https://www.youtube.com/embed/${p}`,h(u=>u===o.length-1?0:u+1)};l.useEffect(()=>{c!==null&&h(c-1)},[c]);let I={dialog:m,setDialog:w,selectedSlide:c,setSelectedSlide:N,slides:o,setGallery:y,setListing:k};return l.useEffect(()=>{const t=r=>{r.key==="Escape"&&b()};return m&&document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[m]),e.jsxs(j.Provider,{value:I,children:[m&&e.jsx("div",{className:`flex w-full h-full bg-white z-[20001] 
                fixed top-0 left-0 right-0 bottom-0 `,children:e.jsxs("div",{className:"grid grid-cols-12 gap-0 w-full",children:[e.jsxs("div",{className:`${a?"col-span-12":"col-span-12 md:col-span-9"}  w-full h-full relative bg-black flex`,children:[e.jsx("div",{className:" w-full h-screen flex overflow-hidden",children:o&&c&&o.map((t,r)=>{console.log(t==null?void 0:t.video_url);const i=f(t==null?void 0:t.video_url),d=`https://www.youtube.com/embed/${i}`;return Date.now().toString()+i,e.jsxs("div",{style:{transform:`translateX(-${n*100}%)`},className:`object-scale-down w-full h-full 
                   flex flex-shrink-0 flex-grow-0 transition-transform 
                   ease-in-out duration-1000 relative place-items-center place-content-center bg-black text-white`,children:["Loading...",e.jsx("iframe",{id:t==null?void 0:t.video_guid,src:d,className:"absolute top-0 left-0 w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"}),e.jsx("div",{className:"absolute bottom-[0px] w-full z-[20px] px-5 py-7 bg-black/80 md:hidden",id:"vstitle",children:e.jsx("div",{className:" text-center text-white text-[19px] ",children:t==null?void 0:t.video_title})})]},r)})}),e.jsx("button",{onMouseDown:()=>{S()},className:`block absolute top-0 bottom-0 
                                                p-[1rem] cursor-pointer left-0 group h-full 
                                                transition duration-1000 ease-in-out`,children:e.jsx("div",{className:`w-[50px] h-[50px] bg-white/60 rounded-full flex place-content-center place-items-center group-hover:bg-white/30
                                                        transition duration-500 ease-in-out`,children:e.jsx(E,{className:" stroke-white fill-black w-[2rem] h-[2rem]"})})}),e.jsx("button",{onMouseDown:_,className:`block absolute top-0 bottom-0 
                                                    p-[1rem] cursor-pointer ${a?"right-5":"right-5 md:right-0"}  group 
                                                     transition duration-1000 ease-in-out`,children:e.jsx("div",{className:`w-[50px] h-[50px] bg-white/60 rounded-full flex place-content-center place-items-center group-hover:bg-white/30
                                                        transition duration-500 ease-in-out`,children:e.jsx(z,{className:" stroke-white fill-black w-[2rem] h-[2rem]"})})}),e.jsx("div",{onMouseDown:()=>b(),className:`w-[50px] h-[50px] z-[300] bg-white
                                                    flex place-content-center place-items-center
                                                    rounded-full absolute left-2 top-2 cursor-pointer
                                                    hover:bg-white/40 transition duration-1000 ease-in-out`,children:e.jsx($,{className:"text-[30px]"})}),e.jsx("div",{onClick:()=>{C(!a)},className:"w-[50px] h-[50px] z-[300] bg-white flex place-content-center place-items-center rounded-full absolute top-2 right-2 cursor-pointer hover:bg-white/40 transition duration-1000 ease-in-out",children:a?e.jsx(B,{className:"text-[30px]"}):e.jsx(D,{className:"text-[30px]"})})]}),e.jsxs("div",{className:`${a?"hidden":"hidden md:block md:col-span-3"}   px-5 overflow-x-hidden overflow-y-auto h-full bg-white`,children:[e.jsxs("h1",{className:" text-[22px] my-4 font-sans font-extrabold tracking-tight leading-[24px]",children:["Videos for ",v&&v.title]}),e.jsxs("div",{className:" my-4 ",children:[n+1," / ",o.length]}),e.jsx("hr",{}),e.jsx("div",{className:"my-4 whitespace-pre-line border-b pb-2",children:o[n].video_title}),o[n].video_description&&e.jsxs("div",{className:"my-4 whitespace-pre-line  pt-0 pb-8 ",children:[e.jsx("div",{className:"font-bold text-lg mb-3",children:"Description"}),e.jsx("div",{children:o[n].video_description})]})]})]})}),g]})};export{P as V,O as u};
