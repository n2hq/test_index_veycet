import{j as e}from"./jsx-runtime-0DLF9kdB.js";import{r as s}from"./components-DPfHZ1Ve.js";import{B as M,a as D,s as L,t as R}from"./lib-B83UiCcG.js";import{I as T}from"./index-BVQZtB2M.js";const g=s.createContext(null);function P(){return s.useContext(g)}const X="https://tpics.gasimg.com",F=({children:d})=>{const[r,h]=s.useState(!1),[l,w]=s.useState(null),[n,b]=s.useState(!1),[c,o]=s.useState(0),[x,v]=s.useState(null),m=s.useRef(0);s.useRef(0);const[a,j]=s.useState(!1),[N,S]=s.useState(!0),k=t=>{m.current=t.touches[0].clientX},y=t=>{const i=t.changedTouches[0].clientX,f=m.current-i;f>50?o(u=>(u+1)%n.length):f<-50&&o(u=>(u-1+n.length)%n.length)},p=()=>{h(!1)},C=()=>{o(t=>t===0?n.length-1:t-1)},E=()=>{o(t=>t===n.length-1?0:t+1)};s.useEffect(()=>{l!==null&&o(l-1)},[l]);let z={dialog:r,setDialog:h,selectedSlide:l,setSelectedSlide:w,slides:n,setGallery:b,setListing:v};return s.useEffect(()=>{const t=i=>{i.key==="Escape"&&p()};return r&&document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[r]),e.jsxs(g.Provider,{value:z,children:[r&&e.jsx("div",{className:`flex w-full h-full bg-white z-[20001] 
                fixed top-0 left-0 right-0 bottom-0 `,children:e.jsxs("div",{className:"grid grid-cols-12 gap-0 w-full",children:[e.jsxs("div",{className:`${a?"col-span-12":"col-span-12 md:col-span-9"}  w-full h-full relative bg-black flex`,children:[e.jsx("div",{className:" w-full h-screen flex overflow-hidden",children:n&&l&&n.map((t,i)=>e.jsxs("div",{className:`w-full h-full flex flex-shrink-0 flex-grow-0 transition-transform  place-content-center place-items-center  relative
                                            ease-in-out duration-1000`,style:{transform:`translateX(-${c*100}%)`},children:[e.jsx("img",{onTouchStart:k,onTouchEnd:y,src:X+t.image_url,alt:"",className:`object-scale-down w-full h-full 
                                            `},i),e.jsx("div",{className:"absolute bottom-[0px] w-full z-[20px] px-5 py-7 bg-black/30 md:hidden",children:e.jsx("div",{className:" text-center text-white text-[19px]",children:t==null?void 0:t.image_title})})]}))}),e.jsx("button",{onMouseDown:C,className:`block absolute top-0 bottom-0 
                                                p-[1rem] cursor-pointer left-0 group h-full 
                                                transition duration-1000 ease-in-out`,children:e.jsx("div",{className:`w-[50px] h-[50px] bg-white/60 rounded-full flex place-content-center place-items-center group-hover:bg-white/30
                                                        transition duration-500 ease-in-out`,children:e.jsx(M,{className:" stroke-white fill-black w-[2rem] h-[2rem]"})})}),e.jsx("button",{onMouseDown:E,className:`block absolute top-0 bottom-0 
                                                    p-[1rem] cursor-pointer ${a?"right-5":"right-5 md:right-0"} group 
                                                     transition duration-1000 ease-in-out`,children:e.jsx("div",{className:`w-[50px] h-[50px] bg-white/60 rounded-full flex place-content-center place-items-center group-hover:bg-white/30
                                                        transition duration-500 ease-in-out`,children:e.jsx(D,{className:" stroke-white fill-black w-[2rem] h-[2rem]"})})}),e.jsx("div",{onMouseDown:()=>p(),className:`w-[50px] h-[50px] z-[300] bg-white
                                                    flex place-content-center place-items-center
                                                    rounded-full absolute left-2 top-2 cursor-pointer
                                                    hover:bg-white/40 transition duration-1000 ease-in-out`,children:e.jsx(T,{className:"text-[30px]"})}),e.jsx("div",{onClick:()=>{j(!a),S(!N)},className:"w-[50px] h-[50px] z-[300] bg-white flex place-content-center place-items-center rounded-full absolute right-2 top-2 cursor-pointer hover:bg-white/40 transition duration-1000 ease-in-out",children:a?e.jsx(L,{className:"text-[30px]"}):e.jsx(R,{className:"text-[30px]"})})]}),e.jsxs("div",{className:`${a?"hidden":"hidden md:block md:col-span-3"} px-5`,children:[e.jsxs("h1",{className:" text-[22px] my-4 font-sans font-extrabold tracking-tight leading-[24px]",children:["Photos for ",x&&x.title]}),e.jsxs("div",{className:" my-4 ",children:[c+1," / ",n.length]}),e.jsx("hr",{}),e.jsx("div",{className:" my-4 whitespace-pre-line",children:n[c].image_title})]})]})}),d]})};export{F as S,P as u};
