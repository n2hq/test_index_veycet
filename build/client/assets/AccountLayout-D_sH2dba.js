import{j as e}from"./jsx-runtime-0DLF9kdB.js";import{r as t}from"./components-DPfHZ1Ve.js";import{L as w}from"./AccountUserImage-DUVY_Zmu.js";import{o as c,p as j,q as N}from"./lib-B83UiCcG.js";import{H as b}from"./HomeNav-Bd3MTT6k.js";import{u as y}from"./AuthContext-DKUMkAUy.js";import{M as A}from"./MainNav-C35PW04j.js";const I=({children:d})=>{const[i,l]=t.useState(!0),[o,u]=t.useState(null),[n,f]=t.useState(!0),[r,x]=t.useState(null),s=y();if(!s)return null;const[m,p]=t.useState(!0),v=()=>{l(i===!1)};return t.useEffect(()=>{const a=localStorage.getItem("authTokens");a==null||a===""?window.location.href="/web/signin":p(!1)},[s==null?void 0:s.user]),t.useEffect(()=>{const a=async g=>{const h=await N(g||"");u(h)};s!=null&&s.user&&a(s==null?void 0:s.user.guid)},[s==null?void 0:s.user]),t.useEffect(()=>{o&&f(!!(o!=null&&o.active))},[o]),t.useEffect(()=>{n===!1&&x("You are currently deactivated. Some operations like creating new business cannot be performed. Activate your profile to continue.")},[n]),m?null:e.jsxs("div",{className:"h-screen flex flex-col relative",children:[e.jsx("div",{className:`h-[${c.NAVBAR_HEIGHT}px] md:h-[0px]`}),e.jsx("div",{className:"border-b",children:e.jsx(A,{})}),e.jsx("div",{className:"md:hidden",children:e.jsx(b,{})}),e.jsx("button",{onClick:v,className:`text-xl text-white bg-gray-700 p-2 
                rounded-full hover:bg-gray-700 shadow-lg top-[72px]
                ${i?"left-[295px]":"left-[15px]"}
                focus:outline-none fixed z-50 top-[60px] 
                transition-all duration-1000 ease-in-out
                hidden lg:block`,children:e.jsx(j,{className:`${i?"rotate-0 transition-all duration-1000 ease-in-out":"rotate-90 transition-all duration-1000 ease-in-out"}`})}),e.jsxs("div",{className:`flex flex-1 md:mt-[${c.NAVBAR_HEIGHT}px] h-full
                overflow-hidden`,children:[e.jsxs("aside",{className:`bg-gray-50 text-gray-900 
                        h-full overflow-y-auto transition-all z-30
                        duration-1000 ease-in-out border-r shadow-md
                        hidden lg:block 
                        ${i?"w-[350px] min-w-[350px]":"w-0 min-w-0 overflow-hidden"}`,children:[e.jsx("div",{className:"mt-[20px]"}),e.jsx(w,{userProfile:o}),e.jsx("div",{className:"h-[20px]"})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto bg-gray-100 ",children:[r&&e.jsx("div",{className:"max-w-[100%] mx-auto w-full bg-blue-500 pt-[10px] pb-[15px] text-white text-center",children:r}),e.jsx("div",{className:"mx-[15px]",children:e.jsx("div",{className:"max-w-[100%] mx-auto w-full  ",children:d})})]})]})]})};export{I as A};
